{"id":"0da6dc4a-35a4-44f5-ac3d-0f8be37e6fb7","revision":0,"last_node_id":19,"last_link_id":47,"nodes":[{"id":3,"type":"AILab_ImageCompare","pos":[712.1722412109375,-420],"size":[297.8277282714844,102],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":47},{"localized_name":"image2","name":"image2","type":"IMAGE","link":20},{"localized_name":"text1","name":"text1","type":"STRING","widget":{"name":"text1"},"link":null},{"localized_name":"text2","name":"text2","type":"STRING","widget":{"name":"text2"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[8]}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_ImageCompare","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["image input","image w/o BG"],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":6,"type":"AILab_CropObject","pos":[719.1790771484375,-790],"size":[290.8208923339844,78],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"Image","name":"image","shape":7,"type":"IMAGE","link":46},{"localized_name":"Mask","name":"mask","shape":7,"type":"MASK","link":44},{"localized_name":"Padding","name":"padding","shape":7,"type":"INT","widget":{"name":"padding"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[11]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_CropObject","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[10],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":8,"type":"AILab_ImagePreview","pos":[1040,-430],"size":[2020,740],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"IMAGE","link":8}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_ImagePreview","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":9,"type":"AILab_ImagePreview","pos":[1040,-790],"size":[990,310],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"IMAGE","link":11}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_ImagePreview","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":10,"type":"AILab_ImagePreview","pos":[160,-400],"size":[510,380],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"IMAGE","link":43}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[20]}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_ImagePreview","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":13,"type":"MarkdownNote","pos":[-630,-20],"size":[690,250],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# ComfyUI-RMBG (https://github.com/1038lab/ComfyUI-RMBG)\n\n## v2.4.0 (2025/06/01)\n- Added `CropObject` node for cropping to object based on mask or alpha channel **(User request [#61](https://github.com/1038lab/ComfyUI-RMBG/issues/61) )**\n- Added `ImageCompare` node for side-by-side image comparison with annotations\n- Added `ColorInput` node pick preset color or input RGB color code in #000000 or #000 format **(User request [#62](https://github.com/1038lab/ComfyUI-RMBG/issues/62) )**\n- Updated `MaskExtractor` node added color picker and support RGBA images by extracting and using the alpha channel as mask\n- Updated `ImageCombiner` node added WIDTH and HEIGHT output\n\n### New Segment V2 (Recommended)\n- Uses Hugging Face transformers library\n- Better compatibility with newer PyTorch (2.x) and CUDA versions\n- Recommended for users with modern GPU setups\n- No groundingdino-py dependency required\n"],"color":"#432","bgcolor":"#653"},{"id":19,"type":"Reroute","pos":[540,-790],"size":[75,26],"flags":{},"order":4,"mode":0,"inputs":[{"name":"","type":"*","link":45}],"outputs":[{"name":"","type":"IMAGE","links":[46,47]}],"properties":{"showOutputText":false,"horizontal":false,"widget_ue_connectable":{}},"color":"#42526b","bgcolor":"#2e3e57"},{"id":2,"type":"AILab_ColorInput","pos":[-550,-230],"size":[270,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"preset","name":"preset","type":"COMBO","widget":{"name":"preset"},"link":null},{"localized_name":"Color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"COLOR","name":"COLOR","type":"COLOR","links":[42]}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_ColorInput","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["teal",""],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":5,"type":"AILab_LoadImage","pos":[-660,-790],"size":[380,500],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"Mask Channel","name":"mask_channel","type":"COMBO","widget":{"name":"mask_channel"},"link":null},{"localized_name":"Scale By","name":"scale_by","type":"FLOAT","widget":{"name":"scale_by"},"link":null},{"localized_name":"Resize Mode","name":"resize_mode","type":"COMBO","widget":{"name":"resize_mode"},"link":null},{"localized_name":"Size","name":"size","type":"INT","widget":{"name":"size"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[41,45]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null},{"localized_name":"MASK IMAGE","name":"MASK_IMAGE","type":"IMAGE","links":null},{"localized_name":"WIDTH","name":"WIDTH","type":"INT","links":null},{"localized_name":"HEIGHT","name":"HEIGHT","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"AILab_LoadImage","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["Sherri-Hill-55541-ivory-print-51855-1-.jpg","alpha",1,"longest_side",0,"image"],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":18,"type":"SegmentV2","pos":[-205.08518981933594,-758.9847412109375],"size":[370,332],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"IMAGE","link":41},{"localized_name":"Prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"SAM Model","name":"sam_model","type":"COMBO","widget":{"name":"sam_model"},"link":null},{"localized_name":"DINO Model","name":"dino_model","type":"COMBO","widget":{"name":"dino_model"},"link":null},{"localized_name":"Threshold","name":"threshold","shape":7,"type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"Mask Blur","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null},{"localized_name":"Mask Offset","name":"mask_offset","shape":7,"type":"INT","widget":{"name":"mask_offset"},"link":null},{"localized_name":"Invert Output","name":"invert_output","shape":7,"type":"BOOLEAN","widget":{"name":"invert_output"},"link":null},{"localized_name":"Background","name":"background","shape":7,"type":"COMBO","widget":{"name":"background"},"link":null},{"localized_name":"Background Color","name":"background_color","shape":7,"type":"COLOR","widget":{"name":"background_color"},"link":42}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[43]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[44]},{"localized_name":"MASK IMAGE","name":"MASK_IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"4faa7c7c12147db95345ee78b30f38273443ff99","Node name for S&R":"SegmentV2","aux_id":"1038lab/ComfyUI-RMBG","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":["dress","sam_vit_h (2.56GB)","GroundingDINO_SwinT_OGC (694MB)",0.3,0,0,false,"Color","#222222"],"color":"#222e40","bgcolor":"#364254"}],"links":[[8,3,0,8,0,"IMAGE"],[11,6,0,9,0,"IMAGE"],[20,10,0,3,1,"IMAGE"],[41,5,0,18,0,"IMAGE"],[42,2,0,18,9,"COLOR"],[43,18,0,10,0,"IMAGE"],[44,18,1,6,1,"MASK"],[45,5,0,19,0,"*"],[46,19,0,6,0,"IMAGE"],[47,19,0,3,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ue_links":[],"ds":{"scale":1.1167815779425423,"offset":[705.566564449386,937.2737777929706]},"links_added_by_ue":[],"frontendVersion":"1.21.7","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}