{"id":"b5f53211-167f-4777-8471-f9e289d1f6e1","revision":0,"last_node_id":50,"last_link_id":163,"nodes":[{"id":31,"type":"VAEDecode","pos":[2358.612060546875,-688.4017333984375],"size":[210,46],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":51},{"localized_name":"vae","name":"vae","type":"VAE","link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[54]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":33,"type":"PreviewImage","pos":[2642.1162109375,-685.7399291992188],"size":[210,246],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":54}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":30,"type":"KSampler","pos":[1910,-695],"size":[210,475],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":null},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[51]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[883923326212305,"randomize",20,8,"euler","normal",0.3],"shape":1},{"id":34,"type":"PreviewImage","pos":[2798.514892578125,-44.43941116333008],"size":[210,246],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":55}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":25,"type":"Note","pos":[1735,-1055],"size":[790,255],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["Many different options possible here.\n\n1. No controlnet.\nYou can completely discard this controlnet, if you decrease the denoising strength on the ksampler.\n\n2. Tile controlnet\nWith a high scaled soft weights, it will allow the image to change a lot while still maintaining most of its low frequency freatures (like head position, and most of the expression)\n\n3. Inpaint controlnet\nSame as tile controlnet, but more features of the original face are preserved. In that case, notice you connect the cropped images directly, without any Inpaint Preprocessor node.\n\n4. Something else\nFor example mediapipe controlnet, openpose, or anything you can imagine. You are free to do whatever you want."],"color":"#432","bgcolor":"#653"},{"id":38,"type":"Note","pos":[2530,-1055],"size":[535,255],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"IMPORTANT - regarding controlnet","properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["You can use any controlnet, any combination of controlnet, ipadapters, or anything you like.\n\nBut, if you want to do **animations**, you want to use the following node to apply your controlnets: Apply Advanced ControlNet üõÇüÖêüÖíüÖù\n\nThe regular controlnet cannot handle animations."],"color":"#432","bgcolor":"#653"},{"id":2,"type":"DetectFaces","pos":[-254.8131866455078,1102.9549560546875],"size":[210,126],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":1},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":42},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"min_size","name":"min_size","type":"INT","widget":{"name":"min_size"},"link":null},{"localized_name":"max_size","name":"max_size","type":"INT","widget":{"name":"max_size"},"link":null}],"outputs":[{"localized_name":"faces","name":"faces","type":"FACE","slot_index":0,"links":[2,21]}],"properties":{"cnr_id":"comfyui_facetools","ver":"9292be419adaf6bed05b1fbd449c6a27dcf7b1ee","Node name for S&R":"DetectFaces","widget_ue_connectable":{}},"widgets_values":[0.5,64,512],"shape":1},{"id":10,"type":"KSampler","pos":[2353.068115234375,-69.0523681640625],"size":[210,475],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":null},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":93},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":94},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[39]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[147731636860973,"randomize",20,8,"euler","normal",1],"shape":1},{"id":41,"type":"ACN_ScaledSoftControlNetWeights","pos":[1777.733154296875,228.19895935058594],"size":[224.99667358398438,102],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"cn_extras","name":"cn_extras","shape":7,"type":"CN_WEIGHTS_EXTRAS","link":null},{"localized_name":"base_multiplier","name":"base_multiplier","type":"FLOAT","widget":{"name":"base_multiplier"},"link":null},{"localized_name":"uncond_multiplier","name":"uncond_multiplier","shape":7,"type":"FLOAT","widget":{"name":"uncond_multiplier"},"link":null}],"outputs":[{"localized_name":"CN_WEIGHTS","name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[104]},{"localized_name":"TK_SHORTCUT","name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":null}],"properties":{"cnr_id":"comfyui-advanced-controlnet","ver":"1.5.4","widget_ue_connectable":{},"Node name for S&R":"ACN_ScaledSoftControlNetWeights"},"widgets_values":[0.825,1]},{"id":48,"type":"Anything Everywhere","pos":[1238.377685546875,46.610321044921875],"size":[172.18905639648438,26],"flags":{},"order":29,"mode":0,"inputs":[{"color_on":"#FF9CF9","label":"LATENT","localized_name":"anything","name":"anything","shape":7,"type":"*","link":137}],"outputs":[],"title":"LATENT","properties":{"cnr_id":"cg-use-everywhere","ver":"3bb64a53dbdfce7696426916077544639472c515","widget_ue_connectable":{},"Node name for S&R":"Anything Everywhere","group_restricted":0,"color_restricted":0},"widgets_values":[]},{"id":47,"type":"Prompts Everywhere","pos":[1224.6597900390625,-94.37705993652344],"size":[169.83065795898438,46],"flags":{},"order":28,"mode":0,"inputs":[{"color_on":"#FFA931","label":"CONDITIONING","localized_name":"+ve","name":"+ve","shape":7,"type":"*","link":135},{"color_on":"#FFA931","label":"CONDITIONING","localized_name":"-ve","name":"-ve","shape":7,"type":"*","link":136}],"outputs":[],"properties":{"cnr_id":"cg-use-everywhere","ver":"3bb64a53dbdfce7696426916077544639472c515","widget_ue_connectable":{},"Node name for S&R":"Prompts Everywhere","group_restricted":0,"color_restricted":0},"widgets_values":[]},{"id":3,"type":"CropFaces","pos":[131.5280303955078,1203.9163818359375],"size":[240,146],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"faces","name":"faces","type":"FACE","link":2},{"localized_name":"crop_size","name":"crop_size","type":"INT","widget":{"name":"crop_size"},"link":null},{"localized_name":"crop_factor","name":"crop_factor","type":"FLOAT","widget":{"name":"crop_factor"},"link":null},{"localized_name":"mask_type","name":"mask_type","type":"COMBO","widget":{"name":"mask_type"},"link":null}],"outputs":[{"localized_name":"crops","name":"crops","type":"IMAGE","slot_index":0,"links":[4,97,139]},{"localized_name":"masks","name":"masks","type":"MASK","slot_index":1,"links":[12,22]},{"localized_name":"warps","name":"warps","type":"WARP","slot_index":2,"links":[13]}],"properties":{"cnr_id":"comfyui_facetools","ver":"9292be419adaf6bed05b1fbd449c6a27dcf7b1ee","Node name for S&R":"CropFaces","widget_ue_connectable":{}},"widgets_values":[512,1,"BiSeNet"],"shape":1},{"id":11,"type":"WarpFacesBack","pos":[911.88037109375,1231.7633056640625],"size":[210,106],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":24},{"localized_name":"face","name":"face","type":"FACE","link":21},{"localized_name":"crop","name":"crop","type":"IMAGE","link":19},{"localized_name":"mask","name":"mask","type":"MASK","link":23},{"localized_name":"warp","name":"warp","type":"WARP","link":13}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[25]}],"properties":{"cnr_id":"comfyui_facetools","ver":"9292be419adaf6bed05b1fbd449c6a27dcf7b1ee","Node name for S&R":"WarpFacesBack","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":23,"type":"Note","pos":[808.9278564453125,1439.8370361328125],"size":[305,110],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["You really want to feather the mask, in case detected the mask overflows the cropped image. Otherwise, if this happens you will see a sharp edge where the mask overflowed."],"color":"#432","bgcolor":"#653"},{"id":22,"type":"Note","pos":[-133.55409240722656,1429.6898193359375],"size":[310,365],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["mask:\n\nit will only detect faces that are not masked.\nOf course, you can change this behavior by using a InvertMask node.\n\n\n\nthreshold:\n\nthis is the usual yolov threshold used for face detection. 0.5 is the default, but most detected faces have a score higher than 0.7\n\n\n\nmin_size, max_size:\n\nit will only detect faces whose bounding box edge sizes is between min_size and max_size."],"color":"#432","bgcolor":"#653"},{"id":15,"type":"FeatherMask","pos":[454.117431640625,1341.1395263671875],"size":[210,130],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":22},{"localized_name":"left","name":"left","type":"INT","widget":{"name":"left"},"link":null},{"localized_name":"top","name":"top","type":"INT","widget":{"name":"top"},"link":null},{"localized_name":"right","name":"right","type":"INT","widget":{"name":"right"},"link":null},{"localized_name":"bottom","name":"bottom","type":"INT","widget":{"name":"bottom"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[23]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"FeatherMask","widget_ue_connectable":{}},"widgets_values":[32,32,32,32],"shape":1},{"id":39,"type":"ACN_AdvancedControlNetApply_v2","pos":[2024.29052734375,-26.72072982788086],"size":[271.1734313964844,266],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"label":"CONTROL_NET","localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":null},{"localized_name":"image","name":"image","type":"IMAGE","link":97},{"localized_name":"mask_optional","name":"mask_optional","shape":7,"type":"MASK","link":null},{"localized_name":"timestep_kf","name":"timestep_kf","shape":7,"type":"TIMESTEP_KEYFRAME","link":null},{"localized_name":"latent_kf_override","name":"latent_kf_override","shape":7,"type":"LATENT_KEYFRAME","link":null},{"localized_name":"weights_override","name":"weights_override","shape":7,"type":"CONTROL_NET_WEIGHTS","link":104},{"localized_name":"vae_optional","name":"vae_optional","shape":7,"type":"VAE","link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[93]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[94]}],"properties":{"cnr_id":"comfyui-advanced-controlnet","ver":"1.5.4","widget_ue_connectable":{},"Node name for S&R":"ACN_AdvancedControlNetApply_v2"},"widgets_values":[1,0,1]},{"id":50,"type":"ACN_AdvancedControlNetApply_v2","pos":[2034.9351806640625,645.13623046875],"size":[271.1734313964844,266],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"label":"CONTROL_NET_inpaint","localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":null},{"localized_name":"image","name":"image","type":"IMAGE","link":139},{"localized_name":"mask_optional","name":"mask_optional","shape":7,"type":"MASK","link":null},{"localized_name":"timestep_kf","name":"timestep_kf","shape":7,"type":"TIMESTEP_KEYFRAME","link":null},{"localized_name":"latent_kf_override","name":"latent_kf_override","shape":7,"type":"LATENT_KEYFRAME","link":null},{"localized_name":"weights_override","name":"weights_override","shape":7,"type":"CONTROL_NET_WEIGHTS","link":138},{"localized_name":"vae_optional","name":"vae_optional","shape":7,"type":"VAE","link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[140]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[141]}],"properties":{"cnr_id":"comfyui-advanced-controlnet","ver":"1.5.4","widget_ue_connectable":{},"Node name for S&R":"ACN_AdvancedControlNetApply_v2"},"widgets_values":[1,0,1]},{"id":49,"type":"ACN_ScaledSoftControlNetWeights","pos":[1762.8685302734375,856.9983520507812],"size":[224.99667358398438,102],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"cn_extras","name":"cn_extras","shape":7,"type":"CN_WEIGHTS_EXTRAS","link":null},{"localized_name":"base_multiplier","name":"base_multiplier","type":"FLOAT","widget":{"name":"base_multiplier"},"link":null},{"localized_name":"uncond_multiplier","name":"uncond_multiplier","shape":7,"type":"FLOAT","widget":{"name":"uncond_multiplier"},"link":null}],"outputs":[{"localized_name":"CN_WEIGHTS","name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[138]},{"localized_name":"TK_SHORTCUT","name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":null}],"properties":{"cnr_id":"comfyui-advanced-controlnet","ver":"1.5.4","widget_ue_connectable":{},"Node name for S&R":"ACN_ScaledSoftControlNetWeights"},"widgets_values":[0.825,1]},{"id":12,"type":"VAEDecode","pos":[2585.890625,-84.4837646484375],"size":[140,46],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":39},{"localized_name":"vae","name":"vae","type":"VAE","link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[19,55]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":36,"type":"VAEDecode","pos":[2633.15576171875,615.7703857421875],"size":[162.0044708251953,48.84417724609375],"flags":{},"order":31,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":60},{"localized_name":"vae","name":"vae","type":"VAE","link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[61]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":37,"type":"PreviewImage","pos":[2835,610],"size":[255.80580139160156,304.40240478515625],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":61}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":35,"type":"KSampler","pos":[2355.29736328125,596.6170654296875],"size":[210,279.2310485839844],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":null},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":140},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":141},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[60]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[1047729761070253,"randomize",20,8,"euler","normal",1],"shape":1},{"id":16,"type":"PreviewImage","pos":[1334.67138671875,1208.045166015625],"size":[1635.9525146484375,1069.224609375],"flags":{},"order":35,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":25}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":1,"type":"LoadImage","pos":[-1860.747802734375,534.5999145507812],"size":[1248.2901611328125,1256.60205078125],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[1,24]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[42]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["clipspace/clipspace-mask-710370.8000000119.png [input]","image"],"shape":1},{"id":8,"type":"CheckpointLoaderSimple","pos":[-452.91107177734375,-244.54998779296875],"size":[315,98],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[40]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[102]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[103]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["SD1.5/juggernaut_reborn.safetensors"],"shape":1},{"id":21,"type":"DifferentialDiffusion","pos":[-116.44515991210938,-272.3237609863281],"size":[210,26],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":40}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[101]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"DifferentialDiffusion","widget_ue_connectable":{}},"widgets_values":[],"shape":1},{"id":43,"type":"ControlNetLoader","pos":[-495.492431640625,-627.4180297851562],"size":[510.1760559082031,63.441471099853516],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","slot_index":0,"links":[117]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","widget_ue_connectable":{},"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_inpaint_fp16.safetensors"],"shape":1},{"id":42,"type":"ControlNetLoader","pos":[-494.4083251953125,-482.8055114746094],"size":[516.7831420898438,63.020103454589844],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[118]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","widget_ue_connectable":{},"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11f1e_sd15_tile.pth"],"shape":1},{"id":45,"type":"Anything Everywhere?","pos":[73.3078384399414,-458.7712097167969],"size":[270,106],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"color_on":"#6EE7B7","label":"CONTROL_NET","localized_name":"anything","name":"anything","shape":7,"type":"*","link":118},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"CONTROL_NET","properties":{"cnr_id":"cg-use-everywhere","ver":"3bb64a53dbdfce7696426916077544639472c515","widget_ue_connectable":{},"Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0},"widgets_values":[".*","CONTROL_NET",".*"]},{"id":44,"type":"Anything Everywhere?","pos":[47.6263542175293,-600.641845703125],"size":[270,106],"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[{"color_on":"#6EE7B7","label":"CONTROL_NET","localized_name":"anything","name":"anything","shape":7,"type":"*","link":117},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"CONTROL_NET_inpaint","properties":{"cnr_id":"cg-use-everywhere","ver":"3bb64a53dbdfce7696426916077544639472c515","widget_ue_connectable":{},"Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0},"widgets_values":[".*","CONTROL_NET_inpt",".*"]},{"id":40,"type":"Anything Everywhere3","pos":[186.2174530029297,-161.57720947265625],"size":[179.97518920898438,66],"flags":{},"order":20,"mode":0,"inputs":[{"color_on":"#B39DDB","label":"MODEL","localized_name":"anything","name":"anything","shape":7,"type":"*","link":101},{"color_on":"#FFD500","label":"CLIP","localized_name":"anything2","name":"anything2","shape":7,"type":"*","link":102},{"color_on":"#FF6E6E","label":"VAE","localized_name":"anything3","name":"anything3","shape":7,"type":"*","link":103}],"outputs":[],"properties":{"cnr_id":"cg-use-everywhere","ver":"3bb64a53dbdfce7696426916077544639472c515","widget_ue_connectable":{},"Node name for S&R":"Anything Everywhere3","group_restricted":0,"color_restricted":0},"widgets_values":[]},{"id":24,"type":"Note","pos":[119.23017883300781,-366.67767333984375],"size":[279.42742919921875,88],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"text":"","widget_ue_connectable":{}},"widgets_values":["Optional:\n\nsince this is inpainting, it's a good idea to use differential diffusion."],"color":"#432","bgcolor":"#653"},{"id":6,"type":"CLIPTextEncode","pos":[574.0917358398438,-314.0079650878906],"size":[210.29940795898438,88],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[5]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["robert de niro"],"shape":1},{"id":7,"type":"CLIPTextEncode","pos":[575.0599975585938,-169.88539123535156],"size":[210.29940795898438,88],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[27]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["embedding:0001SoftRealisticNegative"],"shape":1},{"id":5,"type":"InpaintModelConditioning","pos":[954.952880859375,-50.44368362426758],"size":[210,138],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":5},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":27},{"localized_name":"vae","name":"vae","type":"VAE","link":null},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":4},{"localized_name":"mask","name":"mask","type":"MASK","link":12},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[135]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[136]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[137]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"InpaintModelConditioning","widget_ue_connectable":{}},"widgets_values":[true],"shape":1}],"links":[[1,1,0,2,0,"IMAGE"],[2,2,0,3,0,"FACE"],[4,3,0,5,3,"IMAGE"],[5,6,0,5,0,"CONDITIONING"],[12,3,1,5,4,"MASK"],[13,3,2,11,4,"WARP"],[19,12,0,11,2,"IMAGE"],[21,2,0,11,1,"FACE"],[22,3,1,15,0,"MASK"],[23,15,0,11,3,"MASK"],[24,1,0,11,0,"IMAGE"],[25,11,0,16,0,"IMAGE"],[27,7,0,5,1,"CONDITIONING"],[39,10,0,12,0,"LATENT"],[40,8,0,21,0,"MODEL"],[42,1,1,2,1,"MASK"],[51,30,0,31,0,"LATENT"],[54,31,0,33,0,"IMAGE"],[55,12,0,34,0,"IMAGE"],[60,35,0,36,0,"LATENT"],[61,36,0,37,0,"IMAGE"],[93,39,0,10,1,"CONDITIONING"],[94,39,1,10,2,"CONDITIONING"],[97,3,0,39,3,"IMAGE"],[101,21,0,40,0,"MODEL"],[102,8,1,40,1,"CLIP"],[103,8,2,40,2,"VAE"],[104,41,0,39,7,"CONTROL_NET_WEIGHTS"],[117,43,0,44,0,"CONTROL_NET"],[118,42,0,45,0,"CONTROL_NET"],[135,5,0,47,0,"CONDITIONING"],[136,5,1,47,1,"CONDITIONING"],[137,5,2,48,0,"LATENT"],[138,49,0,50,7,"CONTROL_NET_WEIGHTS"],[139,3,0,50,3,"IMAGE"],[140,50,0,35,1,"CONDITIONING"],[141,50,1,35,2,"CONDITIONING"]],"groups":[{"id":1,"title":"Option 2","bounding":[1748,-187,1352,655],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Option 3","bounding":[1719,500,1389,641],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Option 1","bounding":[1728,-771,1370,569],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"facetools","bounding":[-263.813232421875,953.9544067382812,1493.34375,892.6575927734375],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Load Models","bounding":[-505.492431640625,-701.0180053710938,934.3616943359375,640.6339721679688],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Prompt","bounding":[564.0917358398438,-387.60797119140625,231.26763916015625,315.7225646972656],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"InpaintModelConditioning","bounding":[944.952880859375,-167.97706604003906,475.6138916015625,265.53338623046875],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ue_links":[{"downstream":31,"downstream_slot":1,"upstream":"8","upstream_slot":2,"controller":40,"type":"VAE"},{"downstream":30,"downstream_slot":0,"upstream":"21","upstream_slot":0,"controller":40,"type":"MODEL"},{"downstream":30,"downstream_slot":1,"upstream":"5","upstream_slot":0,"controller":47,"type":"CONDITIONING"},{"downstream":30,"downstream_slot":2,"upstream":"5","upstream_slot":1,"controller":47,"type":"CONDITIONING"},{"downstream":30,"downstream_slot":3,"upstream":"5","upstream_slot":2,"controller":48,"type":"LATENT"},{"downstream":10,"downstream_slot":0,"upstream":"21","upstream_slot":0,"controller":40,"type":"MODEL"},{"downstream":10,"downstream_slot":3,"upstream":"5","upstream_slot":2,"controller":48,"type":"LATENT"},{"downstream":39,"downstream_slot":0,"upstream":"5","upstream_slot":0,"controller":47,"type":"CONDITIONING"},{"downstream":39,"downstream_slot":1,"upstream":"5","upstream_slot":1,"controller":47,"type":"CONDITIONING"},{"downstream":39,"downstream_slot":2,"upstream":"42","upstream_slot":0,"controller":45,"type":"CONTROL_NET"},{"downstream":39,"downstream_slot":8,"upstream":"8","upstream_slot":2,"controller":40,"type":"VAE"},{"downstream":50,"downstream_slot":0,"upstream":"5","upstream_slot":0,"controller":47,"type":"CONDITIONING"},{"downstream":50,"downstream_slot":1,"upstream":"5","upstream_slot":1,"controller":47,"type":"CONDITIONING"},{"downstream":50,"downstream_slot":2,"upstream":"42","upstream_slot":0,"controller":45,"type":"CONTROL_NET"},{"downstream":50,"downstream_slot":8,"upstream":"8","upstream_slot":2,"controller":40,"type":"VAE"},{"downstream":12,"downstream_slot":1,"upstream":"8","upstream_slot":2,"controller":40,"type":"VAE"},{"downstream":36,"downstream_slot":1,"upstream":"8","upstream_slot":2,"controller":40,"type":"VAE"},{"downstream":35,"downstream_slot":0,"upstream":"21","upstream_slot":0,"controller":40,"type":"MODEL"},{"downstream":35,"downstream_slot":3,"upstream":"5","upstream_slot":2,"controller":48,"type":"LATENT"},{"downstream":6,"downstream_slot":0,"upstream":"8","upstream_slot":1,"controller":40,"type":"CLIP"},{"downstream":7,"downstream_slot":0,"upstream":"8","upstream_slot":1,"controller":40,"type":"CLIP"},{"downstream":5,"downstream_slot":2,"upstream":"8","upstream_slot":2,"controller":40,"type":"VAE"}],"ds":{"scale":0.3344792931921449,"offset":[2083.998183246458,428.86412525738973]},"links_added_by_ue":[142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163]},"version":0.4}